(this["webpackJsonpdash-connect"]=this["webpackJsonpdash-connect"]||[]).push([[0],{175:function(e,n,t){e.exports=t(305)},180:function(e,n,t){},181:function(e,n,t){},304:function(e,n,t){},305:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),o=t(36),r=t.n(o),i=(t(180),t(181),t(20)),l=t(27),u=(t(108),t(316)),s=function(e){var n=e.schema,t=e.onChange,c=e.idx;return a.createElement("div",{className:"input"},a.createElement(u.a,{placeholder:n.name,defaultValue:n.value,onChange:function(e,a){t(c,n.name,a.value)}}))},m=t(46),h=t(317),d=function e(n){Object(m.a)(this,e),this.key=void 0,this.value=void 0,this.text=void 0,this.key=n,this.value=n,this.text=n},f=function(e){var n=e.schema,t=e.idx,c=e.onChange,o=n.options;return a.createElement("div",{className:"select"},a.createElement(h.a,{placeholder:"Select your country",options:o.map((function(e){return new d(e)})),onChange:function(e,a){c(t,n.name,a.value)}}))},p=function(e){var n=e.schema,t=e.idx,c=e.onSchemaChange;return a.createElement(a.Fragment,null,a.createElement("h2",null,n.name),a.createElement(S,{schema:n,idx:t,onSchemaChange:c}))},v=t(101),g=t.n(v),E=t(161),b=t(307),j=function(){var e=Object(E.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:5000/api/uploadFile",{method:"POST",body:n}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(e){e.idx;var n=e.schema,t=(e.onChange,a.useState([])),c=Object(l.a)(t,2),o=c[0],r=c[1],i=a.useRef(null);return a.createElement("div",{className:"logo"},a.createElement(b.a,{content:n.name,labelPosition:"left",icon:"file",onClick:function(){return i.current&&i.current.click()}}),a.createElement("input",{ref:i,type:"file",multiple:!1,hidden:!0,onChange:function(e){return function(e){r(o.concat(e));var n=new FormData;n.append("imageFile",e[0]),j(n).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}(e.target.files)},accept:"image/png, image/jpeg"}),o.map((function(e,n){return a.createElement("p",{key:n},e[0].name)})))},x=t(319),C=t(318),O={text:s,select:f,object:p,upload:y,textArea:function(e){var n=e.schema,t=e.onChange,c=e.idx;return a.createElement("div",{className:"input"},a.createElement(x.a,null,a.createElement(C.a,{placeholder:n.name,onChange:function(e,a){return t(c,n.name,a.value)}})))}},S=function(e){var n=e.schema,t=e.idx,c=e.onSchemaChange,o=function(e,n,t){c(e,n,t)};return a.createElement("div",{className:"form-builder-container"},a.createElement("h3",null,n.name),n.items.map((function(e,r){var i=O[e.type];return a.createElement(i,{key:r,schema:e,idx:t?"".concat(t,"-").concat(n.name):n.name,onChange:o,onSchemaChange:c})})))},k={name:"header",type:"object",items:[{type:"text",description:"heading",value:"",name:"heading"},{type:"textArea",description:"description",value:"",name:"description"},{type:"upload",description:"logo",value:"",name:"logo"}]},w=t(102),N=t.n(w),F=(t(304),t(163)),A=function(){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(null),r=Object(l.a)(o,2),i=r[0],u=r[1],s=Object(a.useState)(null),m=Object(l.a)(s,2),h=m[0],d=m[1];return[t,i,h,function(e,n){c(!0),function(e,n){fetch(e,Object(F.a)({},n)).then((function(e){e.json()})).then((function(e){c(!1),u(e)})).catch((function(e){d(e)}))}(e,n)}]},J=function(e){var n=c.a.useState({}),t=Object(l.a)(n,2),a=t[0],o=t[1],r=A(),u=Object(l.a)(r,4),s=u[0],m=u[1],h=u[2],d=u[3];return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{schema:k,onSchemaChange:function(e,n,t){console.log(t);var c="".concat(e,"-").concat(n).split("-").reverse().reduce((function(e,n){return Object(i.a)({},n,e)}),t);o(N()(a,c)),console.log(N()(a,c))}}),c.a.createElement(b.a,{onClick:function(){d("http://127.0.0.1:5000/api/setHeader",{body:JSON.stringify(a),headers:{"Content-Type":"application/json"},method:"POST",mode:"cors"}),console.log(s,m,h)}},"click here"))};var P=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.dacda35e.chunk.js.map